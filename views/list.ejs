<%- include("header") -%>

<body>

  <div class="box" id="heading">
    <h1>
      <%= listTitle %>
    </h1>
  </div>

  <div class="box">
    <% listItems.forEach(function(item){ %>
    <form action="/delete" method="post">
      <div class="item">
        <input type="checkbox" name="checkbox" value="<%= item._id %>" onChange="this.form.submit()">
        <p>
          <%= item.name %>
        </p>
      </div>
      <input type="hidden" name="listName" value="<%= listTitle %>"/>
    </form>
    <% }); %>
  
    

    <form class="item" action="/" method="post" onsubmit="return validateForm()">
      <input type="text" id="inputField" name="newTodo" placeholder="Enter your task" autocomplete="off" autofocus>
      <button type="submit" name="listSubmit" value=<%= listTitle %>>+</button>
    </form>

  </div>

  <script>
      function validateForm() {
      var inputValue = document.getElementById("inputField").value;
      
      if (inputValue.trim() === "") {
          alert("Please enter some value");
          return false; // Prevent form submission
      }
      // If input has value, allow the form to be submitted
      return true;
    }
  </script>

</body>

<%- include("footer") -%>